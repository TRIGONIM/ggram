<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>ggram documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ggram</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#______________________________________">‚Ü™Ô∏è –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ </a></li>
<li><a href="#__________________________________________">‚ÑπÔ∏è –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã </a></li>
<li><a href="#________________________________">ü§ñ –ö–æ–¥ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ </a></li>
</ul>


<h2>Topics</h2>
<ul class="">
  <li><a href="../topics/readme.md.html">readme</a></li>
  <li><a href="../topics/development_tips.md.html">development_tips</a></li>
  <li><a href="../topics/making_extensions.md.html">making_extensions</a></li>
  <li><strong>running_within_garrysmod</strong></li>
  <li><a href="../topics/troubleshooting.md.html">troubleshooting</a></li>
  <li><a href="../topics/understanding_things.md.html">understanding_things</a></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/deferred.html">deferred</a></li>
  <li><a href="../modules/ggram.html">ggram</a></li>
  <li><a href="../modules/lua.ggram.request.html">lua.ggram.request</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/Bot.html">Bot</a></li>
  <li><a href="../classes/Context.html">Context</a></li>
  <li><a href="../classes/Reply.html">Reply</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/_micro_tricks.lua.html">_micro_tricks.lua</a></li>
  <li><a href="../examples/co_reply.lua.html">co_reply.lua</a></li>
  <li><a href="../examples/echo.lua.html">echo.lua</a></li>
  <li><a href="../examples/inline_keyboard.lua.html">inline_keyboard.lua</a></li>
  <li><a href="../examples/middlewares.lua.html">middlewares.lua</a></li>
  <li><a href="../examples/send_multipart.lua.html">send_multipart.lua</a></li>
</ul>

</div>

<div id="content">


<h1>–ó–∞–ø—É—Å–∫ –Ω–∞ Garry's Mod —Å–µ—Ä–≤–µ—Ä–µ</h1>

<blockquote>
    <p>‚ö†Ô∏è –í Garry's Mod –Ω–µ–º–Ω–æ–≥–æ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤, –Ω–µ–∂–µ–ª–∏ –≤ —á–∏—Å—Ç–æ–º Lua. –í –≥–º–æ–¥–µ –Ω–µ –ø—Ä–∏–Ω—è—Ç–æ —Å–≤–µ—Ä—Ö—É –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–µ–ª–∞—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ <code>require()</code>, –Ω–æ –ø—Ä–∏–Ω—è—Ç–æ –≤—Å–µ –ø–æ–º–µ—â–∞—Ç—å –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ ggram –¥–µ–ª–∞–µ—Ç—Å—è —Å —É–∫–ª–æ–Ω–æ–º –Ω–∞ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å Lua, –Ω–∏–∂–µ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –ø—Ä–∏–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç ggram –≥–ª–æ–±–∞–ª—å–Ω—ã–º, –∞ –ø–æ–¥–≥—Ä—É–∑–∫—É –±–æ—Ç–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –Ω–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π, –∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π, –∫–∞–∫ –ø—Ä–∏–Ω—è—Ç–æ –≤ Garry's Mod.</p>
</blockquote>

<p>–°–Ω–∏–∑—É –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑—á–∏–∫–∞, –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ—Ç–æ—Ä–æ–º—É —è –∑–∞–ø—É—Å–∫–∞–ª –∫–æ–¥ –≤—Å–µ—Ö –±–æ—Ç–æ–≤ —Å—Ä–∞–∑—É.</p>

<p><a name="______________________________________"></a></p>
<h2>‚Ü™Ô∏è –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏</h2>

<ol>
    <li>/addons/ggram-mod/lua/autorun/ggram-launcher.lua <em>(–∫–æ–¥ –Ω–∏–∂–µ)</em></li>
    <li>/addons/ggram/lua/ggram.lua _(–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —Å–∞–º–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –ø–æ–º–µ—Å—Ç–∏—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, —á—Ç–æ–±—ã –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –±—ã–ª–æ –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞—Ç—å <code>local ggram = require(&quot;ggram&quot;)</code>)_</li>
    <li>/addons/ggram-mod/lua/<code>ggram/extensions/*.lua</code> <em>(—Å—é–¥–∞ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–º–µ—Å—Ç–∏—Ç—å –ª—é–±—ã–µ —à—Ç—É—á–∫–∏-–¥—Ä—é—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç–µ –∑–∞—Ö–æ—Ç–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –±–æ—Ç–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä –≥–ª–æ–±–∞–ª—å–Ω—ã–µ chat</em>id, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —Ö–µ–ª–ø–µ—Ä-—Ñ—É–Ω–∫—Ü–∏–∏)_</li>
    <li>/addons/ggram-mod/lua/<code>ggram/bots/*/_init.lua</code> _(–ø–∞–ø–∫–∏ —Å –≤–∞—à–∏–º–∏ –±–æ—Ç–∞–º–∏. _init.lua —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ –±—É–¥–µ—Ç –≥–ª–∞–≤–Ω—ã–º —Ñ–∞–π–ª–æ–º –≤–∞—â–µ–≥–æ –±–æ—Ç–∞. –í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ <code>include(&quot;path&quot;)</code>)_</li>
</ol>

<p><a name="__________________________________________"></a></p>
<h2>‚ÑπÔ∏è –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</h2>

<p><img align="left" width="450" src="https://file.def.pm/iAllq439.jpg"></p>

<h3>/extensions</h3>
<p>–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, —Ö—Ä–∞–Ω—è—â–∞—è –≤ —Å–µ–±–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–∞–º—ã–π –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤—Å–µ—Ö –±–æ—Ç–æ–≤. –≠—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –º–µ—Ç–∞—Ç–∞–±–ª–∏—Ü –±–æ—Ç–æ–≤, –∫–∞–∫–∏–µ-—Ç–æ ENUM –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Ñ—É–Ω–∫—Ü–∏–∏-—É—Ç–∏–ª–∏—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä <code>escapeMarkdown(text)</code> –∏ —Ç.–¥. –≠—Ç–∏ —Ñ–∞–π–ª—ã –≥—Ä—É–∑—è—Ç—Å—è –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∞–º–∏—Ö –±–æ—Ç–æ–≤</p>

<h3>/bots</h3>
<p>–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤—ã –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–¥ –±–æ—Ç–æ–≤. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é. –í <code>/bots/{anyname}</code> –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª _init.lua ‚Äî —ç—Ç–æ—Ç —Ñ–∞–π–ª –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –ø—Ä–∏ include –≤–∞—à–µ–≥–æ –±–æ—Ç–∞. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ <code>/bots/{botname}</code> –∏ –∏–Ω–∫–ª—é–¥–∏—Ç—å –∏—Ö —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏–∑-–ø–æ–¥ _init.lua.</p>

<hr/>


<p><a name="________________________________"></a></p>
<h2>ü§ñ –ö–æ–¥ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞</h2>

<p>–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø–æ –ø—É—Ç–∏ <code>addons/ggram-mod/lua/autorun/ggram-launcher.lua</code></p>


<pre>
<span class="comment">-- This file should be shared for loading prior to SERVER
</span><span class="comment">-- If it is loaded too late, ggram-dependent scripts may throw errors
</span><span class="keyword">if</span> CLIENT <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span>

<span class="keyword">local</span> <span class="keyword">function</span> <span class="function-name">loadBots</span>(path, iDeep)
    iDeep = iDeep <span class="keyword">or</span> <span class="number">0</span>

    <span class="keyword">local</span> files,dirs = file.<span class="function-name">Find</span>(path .. <span class="string">"/*"</span>,<span class="string">"LUA"</span>)
    <span class="keyword">for</span> _,f <span class="keyword">in</span> <span class="global">ipairs</span>(files) <span class="keyword">do</span>
        <span class="keyword">if</span> f == <span class="string">"_init.lua"</span> <span class="keyword">then</span>
            <span class="global">print</span>(<span class="string">"GG Loading Bot "</span> .. path)
            <span class="function-name">include</span>(path .. <span class="string">"/"</span> .. f)
            <span class="keyword">break</span>
        <span class="keyword">end</span>
    <span class="keyword">end</span>

    <span class="keyword">for</span> _,d <span class="keyword">in</span> <span class="global">ipairs</span>(iDeep &gt; <span class="number">0</span> <span class="keyword">and</span> dirs <span class="keyword">or</span> {}) <span class="keyword">do</span>
        <span class="function-name">loadBots</span>(path .. <span class="string">"/"</span> .. d, iDeep - <span class="number">1</span>)
    <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="keyword">local</span> <span class="keyword">function</span> <span class="function-name">loadExtensions</span>(path)
    <span class="keyword">local</span> files = file.<span class="function-name">Find</span>(path .. <span class="string">"/*"</span>,<span class="string">"LUA"</span>)
    <span class="keyword">for</span> _,f <span class="keyword">in</span> <span class="global">ipairs</span>(files) <span class="keyword">do</span>
        <span class="keyword">local</span> fpath = path .. <span class="string">"/"</span> .. f
        <span class="global">print</span>(<span class="string">"GG Loading "</span> .. fpath)
        <span class="function-name">include</span>(fpath)
    <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="keyword">local</span> gmod_require_override <span class="keyword">do</span>
    <span class="keyword">local</span> require_cache = {}
    gmod_require_override = <span class="keyword">function</span>(path)
        <span class="keyword">if</span> require_cache[path] ~= <span class="keyword">nil</span> <span class="keyword">then</span>
            <span class="keyword">return</span> require_cache[path]
        <span class="keyword">end</span>

        <span class="keyword">local</span> content = <span class="function-name">include</span>(path .. <span class="string">".lua"</span>)
        require_cache[path] = content <span class="keyword">or</span> <span class="keyword">false</span>
        <span class="keyword">return</span> content
    <span class="keyword">end</span>
<span class="keyword">end</span>

gg_require_orig = gg_require_orig <span class="keyword">or</span> <span class="global">require</span>
<span class="comment">-- Override to make "require("deferred")", "require("ggram.middlewares.name")", etc. work.
</span><span class="keyword">function</span> <span class="global">require</span>(path)
    path = path:<span class="function-name">gsub</span>(<span class="string">"%."</span>, <span class="string">"/"</span>)
    <span class="keyword">if</span> file.<span class="function-name">Exists</span>(path .. <span class="string">".lua"</span>, <span class="string">"LUA"</span>) <span class="keyword">then</span>
        <span class="keyword">return</span> <span class="function-name">gmod_require_override</span>(path)
    <span class="keyword">end</span>
    <span class="keyword">return</span> <span class="function-name">gg_require_orig</span>(path)
<span class="keyword">end</span>

ggram = <span class="global">require</span>(<span class="string">"ggram"</span>)
<span class="function-name">loadExtensions</span>(<span class="string">"ggram/extensions"</span>)
<span class="function-name">loadBots</span>(<span class="string">"ggram/bots"</span>, <span class="number">1</span>)
</pre>


<hr/>

<blockquote>
    <p><em>–ï—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã, –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –∏—Ö –≤ Telegram @amd</em>nick –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å Issue_</p>
</blockquote>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-09-04 19:45:18 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
